<%= simple_form_for @object, url: "/carload/dashboard/#{@model_names}/#{@object.id}" do |f| %>
  <!-- Normal attributes -->
  <% @model_class.columns_hash.each do |name, column| %>
    <% next if Carload::ModelSpec::SkippedAttributes.include? name or polymorphic? name %>
    <%= generate_input f, @model_name, name, type: column.type %>
  <% end %>
  <!-- Polymorphics -->
  <% Dashboard.model(@model_name).associated_models.each_value do |associated_model| %>
    <% next if associated_model[:polymorphic] != true %>
    <%= generate_input f, @model_name, associated_model[:name], polymorphic: true,
      value: "#{@object.send("#{associated_model[:name]}_id")},#{@object.send("#{associated_model[:name]}_type")}" %>
  <% end %>
  <!-- Join tables -->
  <% Dashboard.model(@model_name).associated_models.each_value do |associated_model| %>
    <% next if not associated_model[:join_table] %>
    <%= generate_input f, @model_name, id_or_ids(associated_model) %>
  <% end %>
  <%= f.button :submit, t('carload.action.submit'), class: 'btn btn-primary' %>
<% end %>
